{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _native = require(\"@react-navigation/native\");\n\nvar ImagePicker = _interopRequireWildcard(require(\"expo-image-picker\"));\n\nvar _expoConstants = _interopRequireDefault(require(\"expo-constants\"));\n\nvar Permissions = _interopRequireWildcard(require(\"expo-permissions\"));\n\nvar _reactNativeMaps = _interopRequireDefault(require(\"react-native-maps\"));\n\nvar _reactNativeGooglePlacesAutocomplete = require(\"react-native-google-places-autocomplete\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _baseURL = _interopRequireDefault(require(\"../baseURL\"));\n\nvar _jsxFileName = \"/Users/abbieyip/Desktop/save-our-women/Welcome/newReport.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar newReport = function (_React$Component) {\n  (0, _inherits2.default)(newReport, _React$Component);\n\n  var _super = _createSuper(newReport);\n\n  function newReport() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, newReport);\n    _this = _super.call(this);\n\n    _this.handleChangeDescription = function (textValue) {\n      _this.setState({\n        report: textValue\n      });\n    };\n\n    _this.handleChangeLocation = function (val) {\n      _this.setState({\n        location: val\n      });\n\n      console.log(_this.state.location);\n    };\n\n    _this.handleChangeLatitude = function (val) {\n      _this.setState({\n        latitude: val\n      });\n\n      console.log(_this.state.latitude);\n    };\n\n    _this.handleChangeLongitude = function (val) {\n      _this.setState({\n        longitude: val\n      });\n\n      console.log(_this.state.longitude);\n    };\n\n    _this.getPermissionAsync = function _callee() {\n      var _await$Permissions$as, status;\n\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!_expoConstants.default.platform.ios) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 3;\n              return _regenerator.default.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n            case 3:\n              _await$Permissions$as = _context.sent;\n              status = _await$Permissions$as.status;\n\n              if (status !== 'granted') {\n                alert('Please turn on camera permissions to upload a photo');\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._pickImage = function _callee2() {\n      var result;\n      return _regenerator.default.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regenerator.default.awrap(ImagePicker.launchImageLibraryAsync({\n                base64: true,\n                mediaTypes: ImagePicker.MediaTypeOptions.All,\n                allowsEditing: true,\n                aspect: [4, 3],\n                quality: 1\n              }));\n\n            case 3:\n              result = _context2.sent;\n\n              if (!result.cancelled) {\n                _this.setState({\n                  image: String(result.base64)\n                });\n              }\n\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    };\n\n    _this.state = {\n      image: null,\n      location: '',\n      report: '',\n      latitude: '',\n      longitude: ''\n    };\n    _this.handleChangeDescription = _this.handleChangeDescription.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleChangeLocation = _this.handleChangeLocation.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleChangeLatitude = _this.handleChangeLatitude.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleChangeLongitude = _this.handleChangeLongitude.bind((0, _assertThisInitialized2.default)(_this));\n    _this._pickImage = _this._pickImage.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleSubmit = _this.handleSubmit.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(newReport, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      var baseURL = '/make_report';\n      console.log(this.state.report);\n      console.log(this.state.location);\n      console.log(this.state.latitude);\n      console.log(this.state.longitude);\n      var payload = {\n        \"location\": this.state.location,\n        \"report\": this.state.report,\n        \"fileToUpload\": this.state.image,\n        \"latitude\": this.state.latitude,\n        \"longitude\": this.state.longitude\n      };\n\n      _baseURL.default.post(baseURL, payload).then(function (response) {\n        console.log(this.state.report);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPermissionAsync();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var navigation = this.props.navigation;\n      var image = this.state.image;\n      return _react.default.createElement(_reactNative.View, {\n        style: styles.background,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: styles.mainText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 9\n        }\n      }, \"Make a Report\"), _react.default.createElement(_reactNative.Text, {\n        style: styles.smallText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }\n      }, \"Publish an online report about a potential threat or incident. Provide a description of the perpetuator or upload an image or video of the incident. If an emergency situation has occurred, contact authorities immediately for medical help.\"), _react.default.createElement(_reactNative.View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: styles.secondHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }\n      }, \"Incident Report\"), _react.default.createElement(_reactNative.View, {\n        style: {\n          flex: 1,\n          top: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNativeGooglePlacesAutocomplete.GooglePlacesAutocomplete, {\n        placeholder: \"Search Location\",\n        autoFocus: false,\n        returnKeyType: \"search\",\n        fetchDetails: true,\n        currentLocation: true,\n        disableScroll: false,\n        placeholderTextColor: \"rgba(158, 101, 144, 0.8)\",\n        styles: {\n          textInputContainer: {\n            backgroundColor: 'rgba(158, 101, 144, 0.8)',\n            borderTopWidth: 0,\n            borderBottomWidth: 0,\n            borderRadius: -25\n          },\n          textInput: {\n            marginLeft: 0,\n            marginRight: 0,\n            height: 38,\n            color: 'rgba(158, 101, 144, 0.8)',\n            fontSize: 16\n          },\n          listView: {\n            color: 'rgba(158, 101, 144, 0.8)'\n          }\n        },\n        onPress: function onPress(data) {\n          var details = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n          _this2.handleChangeLatitude(details.geometry.location.lat);\n\n          _this2.handleChangeLongitude(details.geometry.location.lng);\n\n          _this2.handleChangeLocation(data.terms[0].value);\n        },\n        query: {\n          key: 'AIzaSyAeQmNz_y5iceHHdjfQPFC-JJP98NjBO6U',\n          language: 'en'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }\n      })), _react.default.createElement(_reactNative.TextInput, {\n        style: styles.moreInfo,\n        placeholder: \"   Description\",\n        multiline: true,\n        onChangeText: this.handleChangeDescription,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }\n      }), _react.default.createElement(_reactNative.TouchableOpacity, {\n        style: styles.addButton,\n        title: \"Add Image\",\n        onPress: this._pickImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: styles.buttonText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }\n      }, \" Add Image\")), image && _react.default.createElement(_reactNative.Image, {\n        source: require('../src/icons/polaroid.png'),\n        style: styles.photoUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 25\n        }\n      }), _react.default.createElement(_reactNative.TouchableOpacity, {\n        style: styles.submitButton,\n        onPress: function onPress() {\n          return _this2.handleSubmit();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: styles.buttonText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }\n      }, \" Submit\"))), _react.default.createElement(_reactNative.TouchableOpacity, {\n        style: styles.backButton,\n        onPress: function onPress() {\n          return navigation.dispatch(_native.StackActions.pop(1));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: styles.backArrow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }\n      }, \"\\u2190\")));\n    }\n  }]);\n  return newReport;\n}(_react.default.Component);\n\nexports.default = newReport;\n\nvar styles = _reactNative.StyleSheet.create({\n  background: {\n    backgroundColor: 'rgba(158, 101, 144, 1)',\n    flex: 1\n  },\n  backButton: {\n    bottom: 625,\n    left: 25\n  },\n  backArrow: {\n    fontSize: 25,\n    color: 'rgba(0, 0, 0, 0.3)',\n    position: 'relative'\n  },\n  mainText: {\n    fontSize: 30,\n    fontWeight: \"bold\",\n    color: 'white',\n    top: 80,\n    alignSelf: 'center',\n    position: 'absolute'\n  },\n  smallText: {\n    fontSize: 15,\n    top: 150,\n    position: 'absolute',\n    alignSelf: 'center',\n    color: 'rgba(255, 255, 255, 0.7)',\n    paddingLeft: 50,\n    paddingRight: 50,\n    justifyContent: 'center'\n  },\n  container: {\n    backgroundColor: 'white',\n    width: 378,\n    height: 700,\n    alignSelf: 'center',\n    top: 300,\n    borderRadius: 25\n  },\n  secondHeader: {\n    color: 'rgba(158, 101, 144, 1)',\n    fontSize: 25,\n    fontWeight: \"bold\",\n    left: 25,\n    top: 10\n  },\n  moreInfo: {\n    backgroundColor: 'rgba(158, 101, 144, 0.2)',\n    height: 200,\n    width: 275,\n    alignSelf: 'center',\n    borderRadius: 25,\n    top: 80\n  },\n  submitButton: {\n    backgroundColor: 'rgba(158, 101, 144, 0.7)',\n    height: 50,\n    width: 125,\n    alignSelf: 'center',\n    left: 80,\n    marginVertical: 15,\n    borderRadius: 25,\n    bottom: 160\n  },\n  addButton: {\n    backgroundColor: 'rgba(158, 101, 144, 0.5)',\n    height: 50,\n    width: 125,\n    alignSelf: 'center',\n    marginVertical: 95,\n    borderRadius: 25,\n    right: 80\n  },\n  buttonText: {\n    color: 'white',\n    alignSelf: 'center',\n    fontSize: 15,\n    fontWeight: \"bold\",\n    marginVertical: 15\n  },\n  photoUpload: {\n    height: 50,\n    width: 50,\n    position: 'absolute',\n    left: 75,\n    top: 520\n  }\n});","map":{"version":3,"sources":["/Users/abbieyip/Desktop/save-our-women/Welcome/newReport.js"],"names":["newReport","handleChangeDescription","textValue","setState","report","handleChangeLocation","val","location","console","log","state","handleChangeLatitude","latitude","handleChangeLongitude","longitude","getPermissionAsync","Constants","platform","ios","Permissions","askAsync","CAMERA_ROLL","status","alert","_pickImage","ImagePicker","launchImageLibraryAsync","base64","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","cancelled","image","String","bind","handleSubmit","baseURL","payload","api","post","then","response","catch","error","navigation","props","styles","background","mainText","smallText","container","secondHeader","flex","top","textInputContainer","backgroundColor","borderTopWidth","borderBottomWidth","borderRadius","textInput","marginLeft","marginRight","height","color","fontSize","listView","data","details","geometry","lat","lng","terms","value","key","language","moreInfo","addButton","buttonText","require","photoUpload","submitButton","backButton","dispatch","StackActions","pop","backArrow","React","Component","StyleSheet","create","bottom","left","position","fontWeight","alignSelf","paddingLeft","paddingRight","justifyContent","width","marginVertical","right"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { StackActions } from '@react-navigation/native';\nimport * as ImagePicker from 'expo-image-picker';\nimport Constants from 'expo-constants';\nimport * as Permissions from 'expo-permissions';\nimport MapView from 'react-native-maps';\nimport { GooglePlacesAutocomplete } from 'react-native-google-places-autocomplete';\nimport { StyleSheet, Text, View, TouchableOpacity, KeyboardAvoidingView,\n  Keyboard, Alert, TextInput, Image, Component, Button\n} from 'react-native';\nimport api from '../baseURL'\n\n\nexport default class newReport extends React.Component {\n\n  constructor(){\n    super()\n    this.state = {\n      image: null,\n      location: '',\n      report: '',\n      latitude: '',\n      longitude: ''\n    }\n    this.handleChangeDescription = this.handleChangeDescription.bind(this)\n    this.handleChangeLocation = this.handleChangeLocation.bind(this)\n    this.handleChangeLatitude = this.handleChangeLatitude.bind(this)\n    this.handleChangeLongitude = this.handleChangeLongitude.bind(this)\n    this._pickImage = this._pickImage.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n\n  }\n\n handleChangeDescription = (textValue) => {\n    this.setState({\n      report: textValue\n    })\n  }\n\n  handleChangeLocation = (val) => {\n     this.setState({\n       location: val\n     })\n     console.log(this.state.location);\n   }\n\n    handleChangeLatitude = (val) => {\n       this.setState({\n         latitude: val\n       })\n            console.log(this.state.latitude);\n     }\n\n     handleChangeLongitude = (val) => {\n        this.setState({\n          longitude: val\n        })\n             console.log(this.state.longitude);\n      }\n\n\n\n handleSubmit () {\n   //console.log(this.state)\n    let baseURL: string = '/make_report';\n    console.log(this.state.report)\n    console.log(this.state.location)\n    console.log(this.state.latitude)\n    console.log(this.state.longitude)\n    let payload : object = {\n      \"location\": this.state.location,\n      \"report\": this.state.report,\n      \"fileToUpload\": this.state.image,\n      \"latitude\": this.state.latitude,\n      \"longitude\": this.state.longitude\n    };\n\n    api.post(baseURL, payload)\n      .then(function (response) {\n        console.log(this.state.report);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  componentDidMount() {\n    this.getPermissionAsync();\n\n  }\n\n\n  getPermissionAsync = async () => {\n    if (Constants.platform.ios) {\n      const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\n      if (status !== 'granted') {\n        alert('Please turn on camera permissions to upload a photo');\n      }\n    }\n  };\n\n  _pickImage = async () => {\n    try {\n      let result = await ImagePicker.launchImageLibraryAsync({\n        base64: true,\n        mediaTypes: ImagePicker.MediaTypeOptions.All,\n        allowsEditing: true,\n        aspect: [4, 3],\n        quality: 1,\n      });\n\n      if (!result.cancelled) {\n\n        this.setState({\n          image: String(result.base64)\n        })\n      }\n    } catch (E) {\n      console.log(E);\n    }\n  };\n\n\n\n  render() {\n    const {navigation} = this.props\n    let { image } = this.state;\n    return(\n      <View style = {styles.background}>\n\n        <Text style = {styles.mainText}>\n          Make a Report\n        </Text>\n\n        <Text style = {styles.smallText}>\n          Publish an online report about a potential threat or incident. Provide\n          a description of the perpetuator or upload an image or video of the\n          incident.\n          If an emergency situation has occurred, contact authorities immediately\n          for medical help.\n        </Text>\n        <View style = {styles.container}>\n\n          <Text style = {styles.secondHeader}>\n            Incident Report\n          </Text>\n          <View style = {{flex: 1, top: 20}}>\n          <GooglePlacesAutocomplete\n            placeholder='Search Location'\n            autoFocus = {false}\n            returnKeyType = 'search'\n            fetchDetails = {true}\n            currentLocation = {true}\n            disableScroll = {false}\n            placeholderTextColor = 'rgba(158, 101, 144, 0.8)'\n            styles = {{\n              textInputContainer: {\n                backgroundColor:'rgba(158, 101, 144, 0.8)',\n                borderTopWidth: 0,\n                borderBottomWidth: 0,\n                borderRadius: -25\n              },\n              textInput: {\n                marginLeft: 0,\n                marginRight: 0,\n                height: 38,\n                color: 'rgba(158, 101, 144, 0.8)',\n                fontSize: 16,\n              },\n              listView: {\n                color: 'rgba(158, 101, 144, 0.8)'\n              }\n            }}\n            onPress={(data, details = null) => {\n              this.handleChangeLatitude(details.geometry.location.lat);\n              this.handleChangeLongitude(details.geometry.location.lng);\n              this.handleChangeLocation(data.terms[0].value);\n            }}\n            query={{\n              key: 'AIzaSyAeQmNz_y5iceHHdjfQPFC-JJP98NjBO6U',\n              language: 'en',\n            }}\n          />\n          </View>\n\n          <TextInput style = {styles.moreInfo}\n            placeholder=\"   Description\"\n            multiline={true}\n            onChangeText={this.handleChangeDescription}\n\n          >\n          </TextInput>\n\n          <TouchableOpacity\n            style = {styles.addButton}\n            title=\"Add Image\"\n            onPress={this._pickImage}>\n              <Text style = {styles.buttonText}> Add Image\n              </Text>\n          </TouchableOpacity>\n              {image && <Image source={require('../src/icons/polaroid.png')}\n              style = {styles.photoUpload} /\n              >}\n\n          <TouchableOpacity\n            style = {styles.submitButton}\n            onPress={() => this.handleSubmit()}\n          >\n            <Text style = {styles.buttonText}> Submit\n            </Text>\n          </TouchableOpacity>\n        </View>\n\n        <TouchableOpacity\n          style = {styles.backButton}\n\n          onPress={\n            () => navigation.dispatch(StackActions.pop(1))}\n        >\n          <Text style = {styles.backArrow}>\n            ←\n          </Text>\n        </TouchableOpacity>\n      </View>\n    )\n  }\n}\n\nconst styles = StyleSheet.create({\n  background: {\n    backgroundColor:'rgba(158, 101, 144, 1)',\n    flex:1\n  },\n\n  backButton: {\n    bottom: 625,\n    left: 25\n  },\n\n  backArrow: {\n    fontSize: 25,\n    color: 'rgba(0, 0, 0, 0.3)',\n    position: 'relative'\n  },\n\n  mainText: {\n    fontSize: 30,\n    fontWeight: \"bold\",\n    color: 'white',\n    top: 80,\n    alignSelf:'center',\n    position: 'absolute'\n  },\n\n  smallText: {\n    fontSize: 15,\n    top: 150,\n    position: 'absolute',\n    alignSelf: 'center',\n    color:'rgba(255, 255, 255, 0.7)',\n    paddingLeft: 50,\n    paddingRight: 50,\n    justifyContent:'center'\n\n  },\n\n  container: {\n    backgroundColor: 'white',\n    width: 378,\n    height: 700,\n    alignSelf:'center',\n    top:300,\n    borderRadius: 25\n  },\n\n  secondHeader: {\n    color:'rgba(158, 101, 144, 1)',\n    fontSize: 25,\n    fontWeight: \"bold\",\n    left: 25,\n    top: 10,\n  },\n\n\n  moreInfo: {\n    backgroundColor:'rgba(158, 101, 144, 0.2)',\n    height: 200,\n    width: 275,\n    alignSelf:'center',\n    borderRadius: 25,\n    top: 80,\n  },\n\n\n\n  submitButton: {\n    backgroundColor: 'rgba(158, 101, 144, 0.7)',\n    height: 50,\n    width: 125,\n    alignSelf: 'center',\n    left: 80,\n    marginVertical: 15,\n    borderRadius: 25,\n    bottom: 160\n  },\n\n  addButton: {\n    backgroundColor: 'rgba(158, 101, 144, 0.5)',\n    height: 50,\n    width: 125,\n    alignSelf: 'center',\n    marginVertical: 95,\n    borderRadius: 25,\n    right: 80,\n  },\n\n  buttonText: {\n    color: 'white',\n    alignSelf: 'center',\n    fontSize: 15,\n    fontWeight: \"bold\",\n    marginVertical: 15\n  },\n\n  photoUpload: {\n    height: 50,\n    width: 50,\n    position: 'absolute',\n    left: 75,\n    top: 520\n\n  }\n})\n"]},"metadata":{},"sourceType":"script"}