{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _LocationError = _interopRequireDefault(require(\"./LocationError\"));\n\nvar OS = _reactNative.Platform.OS;\nvar Version = parseInt(_reactNative.Platform.Version);\nvar ReactNativeGetLocation = _reactNative.NativeModules.ReactNativeGetLocation;\n\nfunction openUrlIfCan(url) {\n  return _regenerator.default.async(function openUrlIfCan$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regenerator.default.awrap(_reactNative.Linking.canOpenURL(url));\n\n        case 2:\n          if (!_context.sent) {\n            _context.next = 6;\n            break;\n          }\n\n          _context.next = 5;\n          return _regenerator.default.awrap(_reactNative.Linking.openURL(url));\n\n        case 5:\n          return _context.abrupt(\"return\", true);\n\n        case 6:\n          return _context.abrupt(\"return\", false);\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nfunction openIOSSettings(root) {\n  var path,\n      _args2 = arguments;\n  return _regenerator.default.async(function openIOSSettings$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          path = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : '';\n          _context2.next = 3;\n          return _regenerator.default.awrap(openUrlIfCan(\"App-Prefs:root=\" + root + (path ? \"&path=\" + path : '')));\n\n        case 3:\n          if (!_context2.sent) {\n            _context2.next = 5;\n            break;\n          }\n\n          return _context2.abrupt(\"return\", true);\n\n        case 5:\n          _context2.next = 7;\n          return _regenerator.default.awrap(openUrlIfCan('App-Prefs:'));\n\n        case 7:\n          if (!_context2.sent) {\n            _context2.next = 9;\n            break;\n          }\n\n          return _context2.abrupt(\"return\", true);\n\n        case 9:\n          return _context2.abrupt(\"return\", false);\n\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\n;\n\nfunction requestAndroidPermission() {\n  var enableHighAccuracy,\n      PERMISSIONS,\n      RESULTS,\n      granted,\n      _args3 = arguments;\n  return _regenerator.default.async(function requestAndroidPermission$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          enableHighAccuracy = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : false;\n          PERMISSIONS = _reactNative.PermissionsAndroid.PERMISSIONS, RESULTS = _reactNative.PermissionsAndroid.RESULTS;\n          _context3.next = 4;\n          return _regenerator.default.awrap(_reactNative.PermissionsAndroid.request(enableHighAccuracy ? PERMISSIONS.ACCESS_FINE_LOCATION : PERMISSIONS.ACCESS_COARSE_LOCATION));\n\n        case 4:\n          granted = _context3.sent;\n\n          if (!(granted !== RESULTS.GRANTED)) {\n            _context3.next = 7;\n            break;\n          }\n\n          throw new _LocationError.default('UNAUTHORIZED', 'Authorization denied');\n\n        case 7:\n          return _context3.abrupt(\"return\", true);\n\n        case 8:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nvar _default = {\n  getCurrentPosition: function getCurrentPosition() {\n    var options,\n        location,\n        code,\n        message,\n        locationError,\n        _args4 = arguments;\n    return _regenerator.default.async(function getCurrentPosition$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            options = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : {\n              enableHighAccuracy: false,\n              timeout: 0\n            };\n\n            if (!(OS === 'android')) {\n              _context4.next = 4;\n              break;\n            }\n\n            _context4.next = 4;\n            return _regenerator.default.awrap(requestAndroidPermission(options.enableHighAccuracy));\n\n          case 4:\n            _context4.prev = 4;\n            _context4.next = 7;\n            return _regenerator.default.awrap(ReactNativeGetLocation.getCurrentPosition(options));\n\n          case 7:\n            location = _context4.sent;\n            return _context4.abrupt(\"return\", location);\n\n          case 11:\n            _context4.prev = 11;\n            _context4.t0 = _context4[\"catch\"](4);\n            code = _context4.t0.code, message = _context4.t0.message;\n            locationError = new _LocationError.default(code, message);\n            locationError.stack = _context4.t0.stack;\n            throw locationError;\n\n          case 17:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[4, 11]], Promise);\n  },\n  openAppSettings: function openAppSettings() {\n    return ReactNativeGetLocation.openAppSettings();\n  },\n  openWifiSettings: function openWifiSettings() {\n    return _regenerator.default.async(function openWifiSettings$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (!(OS === 'android')) {\n              _context5.next = 2;\n              break;\n            }\n\n            return _context5.abrupt(\"return\", ReactNativeGetLocation.openWifiSettings());\n\n          case 2:\n            _context5.next = 4;\n            return _regenerator.default.awrap(openIOSSettings('WIFI'));\n\n          case 4:\n            if (!_context5.sent) {\n              _context5.next = 6;\n              break;\n            }\n\n            return _context5.abrupt(\"return\", true);\n\n          case 6:\n            return _context5.abrupt(\"return\", ReactNativeGetLocation.openAppSettings());\n\n          case 7:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  },\n  openCelularSettings: function openCelularSettings() {\n    return _regenerator.default.async(function openCelularSettings$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            if (!(OS === 'android')) {\n              _context6.next = 2;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", ReactNativeGetLocation.openCelularSettings());\n\n          case 2:\n            _context6.next = 4;\n            return _regenerator.default.awrap(openIOSSettings('MOBILE_DATA_SETTINGS_ID'));\n\n          case 4:\n            if (!_context6.sent) {\n              _context6.next = 6;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", true);\n\n          case 6:\n            return _context6.abrupt(\"return\", ReactNativeGetLocation.openAppSettings());\n\n          case 7:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  },\n  openGpsSettings: function openGpsSettings() {\n    return _regenerator.default.async(function openGpsSettings$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (!(OS === 'android')) {\n              _context7.next = 2;\n              break;\n            }\n\n            return _context7.abrupt(\"return\", ReactNativeGetLocation.openGpsSettings());\n\n          case 2:\n            if (!(Version >= 10)) {\n              _context7.next = 9;\n              break;\n            }\n\n            _context7.next = 5;\n            return _regenerator.default.awrap(openIOSSettings('Privacy', 'LOCATION'));\n\n          case 5:\n            if (!_context7.sent) {\n              _context7.next = 7;\n              break;\n            }\n\n            return _context7.abrupt(\"return\", true);\n\n          case 7:\n            _context7.next = 13;\n            break;\n\n          case 9:\n            _context7.next = 11;\n            return _regenerator.default.awrap(openIOSSettings('LOCATION_SERVICES'));\n\n          case 11:\n            if (!_context7.sent) {\n              _context7.next = 13;\n              break;\n            }\n\n            return _context7.abrupt(\"return\", true);\n\n          case 13:\n            return _context7.abrupt(\"return\", ReactNativeGetLocation.openAppSettings());\n\n          case 14:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n};\nexports.default = _default;","map":{"version":3,"sources":["/Users/abbieyip/Desktop/save-our-women/node_modules/react-native-get-location/index.js"],"names":["OS","Platform","Version","parseInt","ReactNativeGetLocation","NativeModules","openUrlIfCan","url","Linking","canOpenURL","openURL","openIOSSettings","root","path","requestAndroidPermission","enableHighAccuracy","PERMISSIONS","PermissionsAndroid","RESULTS","request","ACCESS_FINE_LOCATION","ACCESS_COARSE_LOCATION","granted","GRANTED","LocationError","getCurrentPosition","options","timeout","location","code","message","locationError","stack","openAppSettings","openWifiSettings","openCelularSettings","openGpsSettings"],"mappings":"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","sourcesContent":["/**\n* MIT License\n* \n* Copyright (c) 2019 Douglas Nassif Roma Junior\n* \n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is\n* furnished to do so, subject to the following conditions:\n* \n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n* \n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n* SOFTWARE. \n*/\n\nimport {\n    NativeModules, Platform, Linking,\n    PermissionsAndroid,\n} from 'react-native';\n\nimport LocationError from './LocationError';\n\nconst { OS } = Platform;\nconst Version = parseInt(Platform.Version);\nconst { ReactNativeGetLocation } = NativeModules;\n\nasync function openUrlIfCan(url) {\n    if (await Linking.canOpenURL(url)) {\n        await Linking.openURL(url);\n        return true;\n    }\n    return false;\n}\n\nasync function openIOSSettings(root, path = '') {\n    if (await openUrlIfCan(`App-Prefs:root=${root}${path ? `&path=${path}` : ''}`)) {\n        return true;\n    }\n    if (await openUrlIfCan('App-Prefs:')) {\n        return true;\n    }\n    return false;\n};\n\nasync function requestAndroidPermission(enableHighAccuracy = false) {\n    const { PERMISSIONS, RESULTS } = PermissionsAndroid;\n    const granted = await PermissionsAndroid.request(enableHighAccuracy\n        ? PERMISSIONS.ACCESS_FINE_LOCATION\n        : PERMISSIONS.ACCESS_COARSE_LOCATION);\n    if (granted !== RESULTS.GRANTED) {\n        throw new LocationError('UNAUTHORIZED', 'Authorization denied');\n    }\n    return true;\n}\n\nexport default {\n    async getCurrentPosition(options = {\n        enableHighAccuracy: false,\n        timeout: 0,\n    }) {\n        if (OS === 'android') {\n            await requestAndroidPermission(options.enableHighAccuracy);\n        }\n        try {\n            const location = await ReactNativeGetLocation.getCurrentPosition(options);\n            return location;\n        } catch (error) {\n            const { code, message } = error;\n            const locationError = new LocationError(code, message);\n            locationError.stack = error.stack;\n            throw locationError;\n        }\n    },\n\n    // Extra functions\n\n    openAppSettings() {\n        return ReactNativeGetLocation.openAppSettings();\n    },\n\n    /**\n     * Only for Android\n     */\n    async openWifiSettings() {\n        if (OS === 'android') {\n            return ReactNativeGetLocation.openWifiSettings();\n        }\n\n        if (await openIOSSettings('WIFI')) {\n            return true;\n        }\n\n        return ReactNativeGetLocation.openAppSettings();\n    },\n\n    /**\n     * Only for Android\n     */\n    async openCelularSettings() {\n        if (OS === 'android') {\n            return ReactNativeGetLocation.openCelularSettings();\n        }\n\n        if (await openIOSSettings('MOBILE_DATA_SETTINGS_ID')) {\n            return true;\n        }\n\n        return ReactNativeGetLocation.openAppSettings();\n    },\n\n    /**\n     * Only for Android\n     */\n    async openGpsSettings() {\n        if (OS === 'android') {\n            return ReactNativeGetLocation.openGpsSettings();\n        }\n\n        if (Version >= 10) {\n            if (await openIOSSettings('Privacy', 'LOCATION')) {\n                return true;\n            }\n        } else {\n            if (await openIOSSettings('LOCATION_SERVICES')) {\n                return true;\n            }\n        }\n\n        return ReactNativeGetLocation.openAppSettings();\n    },\n};\n"]},"metadata":{},"sourceType":"script"}